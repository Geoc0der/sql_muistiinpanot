--Postgisin asentaminen command linella:
create extension postgis;

--Uuden tietokannan luonti ja siihen yhdistäminen
create database ruututietokanta;
/c ruututietokanta;

--Postgresin avaaminen command linella:
psql postgres

--Olemassa olevien tietokantojen listaaminen:
\l

--Kuinka yhdistää tietokantaan:
\c *tietokannan nimi*

--Kuinka listata tietokannan taulut:
\dt

--Kuinka palata alkuun:
q

--Taulun kuvailu:
\d *taulun nimi*

--Kuinka poistaa välilyönnit stringin keskeltä:
update suomen_akatemia_bioalat_2001_2023 set field_2 = replace(field_2,' ','');

--Kuinka valita maastotietokannasta sellaisia kohteita, joissa tiettyjä sanoja stringeissä, toimii Qgisissä:
select * from paikannimi where teksti like '%pakopir%' or teksti like '%piilopir%';

--Tietojen lisääminen uuteen sarakkeeseen:
insert into xxx

--Shapefilen lisääminen (tutorial):
--https://mapscaping.com/loading-spatial-data-into-postgis/

--Kuinka näyttää rivien lukumäärä
select count(*) from kuntarajat2025;

--Sql-kyselyssä printattavien tulosten lukumäärän rajoittaminen
SELECT * FROM "ProjisoidunPalstanSijaintitiedot" LIMIT 10;

--Sql-kyselyssä printattavien tulosten lukumäärän rajoittaminen ja järjestäminen
select nimi, he_0_2 from postinumero25 order by he_0_2 desc limit 30;

--Sama ku edellinen mut printataan prosenttiosuudet ja filtteröidään 0-arvot pois et ei tuu divide by zero-erroria ja kans nullit pois
SELECT nimi, (he_0_2::float / he_vakiy) * 100 AS kolumni FROM postinumero25 WHERE he_0_2 IS NOT NULL AND he_vakiy > 0 ORDER BY kolumni DESC LIMIT 30;

--Liitetään paavo-tietokantaan kunnan nimet kuntaraja-aineistosta
ALTER TABLE postinumero25 ADD COLUMN kuntanimi TEXT;
UPDATE postinumero25 SET kuntanimi = t1.nimi FROM kuntarajat2025 t1 WHERE postinumero25.kunta = t1.kunta;

--Kuinka vaihtaa salasana. Tämän käskyn jälkeen syötetään uusi salasana 2 kertaa
\password *käyttäjätunnus*
